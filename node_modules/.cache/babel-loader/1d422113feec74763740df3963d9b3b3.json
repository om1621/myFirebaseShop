{"ast":null,"code":"var _jsxFileName = \"/home/om621/Desktop/react-firebase-authentication/src/components/Signup.js\";\nimport React, { useState } from 'react';\nimport { Container, Form, Button } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Redirect } from 'react-router-dom';\nimport fb from '../firebase';\n\nconst Signup = () => {\n  const [userName, setUserName] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [userPassword, setUserPassword] = useState('');\n  const [render, setRender] = useState(false);\n\n  const handleChange = e => {\n    e.preventDefault();\n    const val = e.target.value;\n\n    switch (e.target.name) {\n      case 'name':\n        setUserName(val);\n        break;\n\n      case 'email':\n        setUserEmail(val);\n        break;\n\n      case 'password':\n        setUserPassword(val);\n        break;\n\n      default:\n        {\n          break;\n        }\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const user = {\n      name: userName,\n      email: userEmail,\n      cart: [],\n      uid: new Date().getTime()\n    };\n    fb.auth().createUserWithEmailAndPassword(userEmail, userPassword).then(res => {\n      console.log(res);\n      setRender(true); // adding user to the database\n\n      const db = fb.firestore();\n      db.collection('users').doc(user.uid.toString()).set(user).then(res => {\n        console.log(\"suceesfully added new user\");\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }; // Redirect to Homepage component when successfully logged out\n\n\n  const renderRedirect = () => {\n    if (render) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 20\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, renderRedirect(), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-div\",\n    style: {\n      display: 'flex',\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    style: {\n      width: '100%',\n      maxWidth: \"540px\"\n    },\n    className: \"shadow p-3 rounded\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \" SIGN UP\"), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter Name\",\n    onChange: handleChange,\n    name: \"name\",\n    value: userName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    onChange: handleChange,\n    name: \"email\",\n    value: userEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: handleChange,\n    name: \"password\",\n    value: userPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(LinkContainer, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"success mx-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, \"Sign In\"))))));\n};\n\nexport default Signup;","map":{"version":3,"sources":["/home/om621/Desktop/react-firebase-authentication/src/components/Signup.js"],"names":["React","useState","Container","Form","Button","LinkContainer","Redirect","fb","Signup","userName","setUserName","userEmail","setUserEmail","userPassword","setUserPassword","render","setRender","handleChange","e","preventDefault","val","target","value","name","handleSubmit","user","email","cart","uid","Date","getTime","auth","createUserWithEmailAndPassword","then","res","console","log","db","firestore","collection","doc","toString","set","catch","error","renderRedirect","display","justifyContent","alignItems","minHeight","width","maxWidth"],"mappings":"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","sourcesContent":["import React , {useState} from 'react'\nimport { Container, Form, Button } from 'react-bootstrap'\nimport {LinkContainer} from 'react-router-bootstrap'\nimport {Redirect} from 'react-router-dom'\nimport fb from '../firebase';\n\nconst Signup = () => {\n\n    const [userName, setUserName] = useState('');\n    const [userEmail, setUserEmail] = useState('');\n    const [userPassword, setUserPassword] = useState('');\n    const [render , setRender] = useState(false);\n\n\n    const handleChange = (e) => {\n        e.preventDefault();\n\n        const val = e.target.value;\n\n        switch(e.target.name){\n            case'name': \n                setUserName(val);\n                break;\n\n            case 'email': \n                setUserEmail(val);\n                break;\n\n            case 'password': \n                setUserPassword(val);\n                break;\n\n            default: {\n                break;\n            }\n        }\n        \n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const user = {\n            name: userName,\n            email: userEmail,\n            cart: [],\n            uid: new Date().getTime()\n        }\n\n        fb.auth().createUserWithEmailAndPassword(userEmail, userPassword)\n        .then((res) => {\n            console.log(res);\n            setRender(true);\n            \n            // adding user to the database\n            const db = fb.firestore();\n\n            db.collection('users').doc(user.uid.toString()).set(user)\n            .then((res) => {\n                console.log(\"suceesfully added new user\");\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n\n\n\n    };\n\n    // Redirect to Homepage component when successfully logged out\n    const renderRedirect = () => {\n        if(render){\n            return <Redirect to=\"/\" />\n        }\n    };\n\n    return (\n        <>\n            {renderRedirect()}\n            <Container>\n                <div className=\"form-div\" style={{display: 'flex', justifyContent:\"center\", alignItems:\"center\", minHeight: '100vh'}}>\n                    <Form style={{width: '100%', maxWidth:\"540px\"}} className=\"shadow p-3 rounded\" onSubmit={handleSubmit} >\n                        <h1 className=\"text-center my-3\"> SIGN UP</h1>\n\n                        <Form.Group controlId=\"formBasicName\">\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={handleChange} name=\"name\" value={userName} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Label>Email address</Form.Label>\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={handleChange} name=\"email\" value={userEmail}/>\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\">\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control type=\"password\" placeholder=\"Password\" onChange={handleChange} name=\"password\" value={userPassword} />\n                        </Form.Group>\n\n                        <Button variant=\"primary\" type=\"submit\" >\n                            Submit\n                        </Button>\n\n                        <LinkContainer to=\"/login\">\n                            <Button variant=\"success mx-3\">\n                                Sign In\n                            </Button>\n                        </LinkContainer>\n                    </Form>\n                </div>\n               \n            </Container>\n        </>\n    )\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}