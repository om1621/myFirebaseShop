{"ast":null,"code":"import _slicedToArray from\"/home/om621/Desktop/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import*as firebase from'firebase';import Header from'./Header';import Footer from'./Footer';import{Container,Button,Row,Col,ListGroup}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import fb from'../firebase';var Productscreen=function Productscreen(_ref){var match=_ref.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];useEffect(function(){var db=fb.firestore();db.collection('products').doc(match.params.id).get().then(function(document){var data=document.data();setProduct(data);});},[match]);var addToCart=function addToCart(e){e.preventDefault();var db=fb.firestore();db.collection('users').doc(match.params.uid).update({cart:firebase.firestore.FieldValue.arrayUnion(product)}).then(function(res){alert(\"successfully added to cart ;)\");}).catch(function(error){console.log(error);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"product-screen\"},/*#__PURE__*/React.createElement(Container,{className:\"my-3 py-3\"},/*#__PURE__*/React.createElement(LinkContainer,{to:\"/\"},/*#__PURE__*/React.createElement(Button,{variant:\"secondary\"},\"Go Back\")),/*#__PURE__*/React.createElement(Row,{className:\"my-3 py-3\"},/*#__PURE__*/React.createElement(Col,{md:6,className:\"text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:product.image,alt:product.name,style:{minHeight:\"60vh\"}})),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h4\",null,product.name)),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h6\",null,\"Price: \",product.price)),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h6\",null,\"Rating: \",product.rating,\" | \",product.numReviews,\" user reviews \")),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h6\",null,product.description)))),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(ListGroup,null,/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h6\",null,\"Price: \",product.price)),/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(\"h6\",null,\" \",product.countInStock>0?\"In Stock: \".concat(product.countInStock):\"Out of Stock\",\" \")),/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{variant:\"primary\",disabled:product.countInStock===0,onClick:addToCart},\" Add To Cart \"))))))),/*#__PURE__*/React.createElement(Footer,null));};export default Productscreen;","map":{"version":3,"sources":["/home/om621/Desktop/react-firebase-authentication/src/components/Productscreen.js"],"names":["React","useState","useEffect","firebase","Header","Footer","Container","Button","Row","Col","ListGroup","LinkContainer","fb","Productscreen","match","product","setProduct","db","firestore","collection","doc","params","id","get","then","document","data","addToCart","e","preventDefault","uid","update","cart","FieldValue","arrayUnion","res","alert","catch","error","console","log","image","name","minHeight","price","rating","numReviews","description","countInStock"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport * as firebase from 'firebase'\nimport Header from './Header'\nimport Footer from './Footer'\nimport { Container, Button, Row, Col, ListGroup } from 'react-bootstrap'\nimport {LinkContainer} from 'react-router-bootstrap'\nimport fb from '../firebase'\n\nconst Productscreen = ({match}) => {\n\n    const [product, setProduct] = useState([]);\n\n    useEffect(() => {\n\n        const db = fb.firestore();\n        \n        db.collection('products').doc(match.params.id).get()\n        .then((document) => {\n            const data = document.data();\n            setProduct(data);\n        });\n       \n     }, [match]);\n\n     const addToCart = (e) => {\n        \n        e.preventDefault();\n        const db = fb.firestore();\n\n        db.collection('users').doc(match.params.uid).update({\n            cart: firebase.firestore.FieldValue.arrayUnion(product)\n        })\n        .then((res) => {\n            alert(\"successfully added to cart ;)\");\n        })\n        .catch((error) => {\n            console.log(error);\n        })        \n    }\n\n\n\n    return (\n        <>\n            <Header /> \n            <div className=\"product-screen\">\n                <Container className=\"my-3 py-3\">\n                    <LinkContainer to=\"/\">\n                        <Button variant=\"secondary\" >\n                                Go Back\n                        </Button>\n                    </LinkContainer>\n\n                    <Row className=\"my-3 py-3\">\n                        <Col md={6} className=\"text-center\">\n                            <img src={product.image} alt={product.name} style={{minHeight: \"60vh\"}} />\n                        </Col>\n                        <Col md={3}>\n                            <ListGroup variant=\"flush\">\n                                <ListGroup.Item>\n                                    <h4>{product.name}</h4>\n                                </ListGroup.Item>\n                                <ListGroup.Item>\n                                    <h6>Price: {product.price}</h6>\n                                </ListGroup.Item>\n                                <ListGroup.Item>\n                                    <h6>Rating: {product.rating} | {product.numReviews} user reviews </h6>\n                                </ListGroup.Item>\n                                <ListGroup.Item>\n                                    <h6>{product.description}</h6>\n                                </ListGroup.Item>\n                            </ListGroup>\n                        </Col>\n                        <Col md={3}>\n                            <ListGroup>\n                                <ListGroup.Item>\n                                    <h6>Price: {product.price}</h6>\n                                </ListGroup.Item>\n                                <ListGroup.Item>\n                                    <h6> { product.countInStock > 0 ? `In Stock: ${product.countInStock}` : \"Out of Stock\"} </h6>\n                                </ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\">\n                                    <Button variant=\"primary\" disabled={product.countInStock === 0} onClick={addToCart} > Add To Cart </Button>\n                                </ListGroup.Item>\n                            </ListGroup>\n                        </Col>\n                    </Row>\n                       \n                </Container>\n            </div>\n            <Footer />\n        </>\n    )\n}\n\nexport default Productscreen\n"]},"metadata":{},"sourceType":"module"}