{"ast":null,"code":"import _slicedToArray from\"/home/om621/Desktop/react-firebase-authentication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Container,Form,Button}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{Redirect}from'react-router-dom';import fb from'../firebase';var Signup=function Signup(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userEmail=_useState4[0],setUserEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userPassword=_useState6[0],setUserPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),render=_useState8[0],setRender=_useState8[1];var handleChange=function handleChange(e){e.preventDefault();var val=e.target.value;switch(e.target.name){case'name':setUserName(val);break;case'email':setUserEmail(val);break;case'password':setUserPassword(val);break;default:{break;}}};var handleSubmit=function handleSubmit(e){e.preventDefault();var user={name:userName,email:userEmail,cart:[]};fb.auth().createUserWithEmailAndPassword(userEmail,userPassword).then(function(res){setRender(true);// adding user to the database\nvar db=fb.firestore();db.collection('users').doc(user.email).set(user).then(function(res){console.log(\"suceesfully added new user\");}).catch(function(error){alert(error);});}).catch(function(error){alert(error);});};// Redirect to Homepage component when successfully signed-in\nvar renderRedirect=function renderRedirect(){if(render){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}};return/*#__PURE__*/React.createElement(React.Fragment,null,renderRedirect(),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-div\",style:{display:'flex',justifyContent:\"center\",alignItems:\"center\",minHeight:'100vh'}},/*#__PURE__*/React.createElement(Form,{style:{width:'100%',maxWidth:\"540px\"},className:\"shadow p-3 rounded\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center my-3\"},\" SIGN UP\"),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter Name\",onChange:handleChange,name:\"name\",value:userName})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:handleChange,name:\"email\",value:userEmail})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:handleChange,name:\"password\",value:userPassword})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\"),/*#__PURE__*/React.createElement(LinkContainer,{to:\"/login\"},/*#__PURE__*/React.createElement(Button,{variant:\"success mx-3\"},\"Sign In\"))))));};export default Signup;","map":{"version":3,"sources":["/home/om621/Desktop/react-firebase-authentication/src/components/Signup.js"],"names":["React","useState","Container","Form","Button","LinkContainer","Redirect","fb","Signup","userName","setUserName","userEmail","setUserEmail","userPassword","setUserPassword","render","setRender","handleChange","e","preventDefault","val","target","value","name","handleSubmit","user","email","cart","auth","createUserWithEmailAndPassword","then","res","db","firestore","collection","doc","set","console","log","catch","error","alert","renderRedirect","display","justifyContent","alignItems","minHeight","width","maxWidth"],"mappings":"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","sourcesContent":["import React , {useState} from 'react'\nimport { Container, Form, Button } from 'react-bootstrap'\nimport {LinkContainer} from 'react-router-bootstrap'\nimport {Redirect} from 'react-router-dom'\nimport fb from '../firebase';\n\nconst Signup = () => {\n\n    const [userName, setUserName] = useState('');\n    const [userEmail, setUserEmail] = useState('');\n    const [userPassword, setUserPassword] = useState('');\n    const [render , setRender] = useState(false);\n\n\n    const handleChange = (e) => {\n        e.preventDefault();\n\n        const val = e.target.value;\n\n        switch(e.target.name){\n            case'name': \n                setUserName(val);\n                break;\n\n            case 'email': \n                setUserEmail(val);\n                break;\n\n            case 'password': \n                setUserPassword(val);\n                break;\n\n            default: {\n                break;\n            }\n        }\n        \n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const user = {\n            name: userName,\n            email: userEmail,\n            cart: []\n        }\n\n        fb.auth().createUserWithEmailAndPassword(userEmail, userPassword)\n        .then((res) => {\n            setRender(true);\n            \n            // adding user to the database\n            const db = fb.firestore();\n\n            db.collection('users').doc(user.email).set(user)\n            .then((res) => {\n                console.log(\"suceesfully added new user\");\n            })\n            .catch((error) => {\n                alert(error);\n            });\n\n        })\n        .catch((error) => {\n            alert(error);\n        });\n\n\n\n    };\n\n    // Redirect to Homepage component when successfully signed-in\n    const renderRedirect = () => {\n        if(render){\n            return <Redirect to=\"/\" />\n        }\n    };\n\n    return (\n        <>\n            {renderRedirect()}\n            <Container>\n                <div className=\"form-div\" style={{display: 'flex', justifyContent:\"center\", alignItems:\"center\", minHeight: '100vh'}}>\n                    <Form style={{width: '100%', maxWidth:\"540px\"}} className=\"shadow p-3 rounded\" onSubmit={handleSubmit} >\n                        <h1 className=\"text-center my-3\"> SIGN UP</h1>\n\n                        <Form.Group controlId=\"formBasicName\">\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control type=\"text\" placeholder=\"Enter Name\" onChange={handleChange} name=\"name\" value={userName} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Label>Email address</Form.Label>\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={handleChange} name=\"email\" value={userEmail}/>\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\">\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control type=\"password\" placeholder=\"Password\" onChange={handleChange} name=\"password\" value={userPassword} />\n                        </Form.Group>\n\n                        <Button variant=\"primary\" type=\"submit\" >\n                            Submit\n                        </Button>\n\n                        <LinkContainer to=\"/login\">\n                            <Button variant=\"success mx-3\">\n                                Sign In\n                            </Button>\n                        </LinkContainer>\n                    </Form>\n                </div>\n               \n            </Container>\n        </>\n    )\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}